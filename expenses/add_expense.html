<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>Add Expense Item</title>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:wght@500;700&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'EB Garamond', serif; background: #fffbe6; margin: 0; padding: 0; min-height: 100vh; display: flex; justify-content: center; align-items: center; }
    .form-card { background: #fff; border-radius: 16px; box-shadow: 0 2px 12px #e2b97f44; padding: 32px 24px; max-width: 400px; width: 98vw; }
    h2 { text-align: center; color: #b85c38; margin-bottom: 18px; }
    label { display: block; margin-top: 14px; font-weight: 500; color: #7e4a2f; }
    input, select, textarea { width: 100%; padding: 8px; margin-top: 4px; border-radius: 6px; border: 1px solid #e2b97f; font-size: 1rem; }
    button { margin-top: 22px; width: 100%; background: #b85c38; color: #fff; border: none; border-radius: 8px; padding: 10px; font-size: 1.1rem; font-weight: 600; cursor: pointer; }
  </style>
  <!-- Add Firebase SDK scripts in <head> -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<script type="module">
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyDqiN2al10XnwnIgzYe564RRhA1uKdWSrk",
    authDomain: "wm-app-rs.firebaseapp.com",
    projectId: "wm-app-rs",
    storageBucket: "wm-app-rs.firebasestorage.app",
    messagingSenderId: "131943023708",
    appId: "1:131943023708:web:958b4c10bbba922e0e1299",
    measurementId: "G-SFFJ9Y10HK"
  };

  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  //const analytics = firebase.analytics();
  const db = firebase.firestore();

  document.getElementById('expenseForm').onsubmit = function(e) {
    e.preventDefault();
    const expense = {
      id: Date.now(),
      name: this.name.value,
      category: this.category.value,
      cost: parseFloat(this.cost.value),
      date: this.date.value,
      paidBy: this.paidBy.value,
      settled: this.settled.checked,
      remarks: this.remarks.value
    };
    db.collection('expenses').add(expense).then(() => {
      alert('Expense added!');
      this.reset();
    });
  };
</script>
</head>
<body>
  <form class="form-card" id="expenseForm">
    <div style="margin-bottom:18px; text-align:left;">
        <a href="expenses.html"
            style="background:#e2b97f; color:#7e4a2f; padding:7px 16px; border-radius:7px; text-decoration:none; font-weight:600; font-size:1rem;">←
            Back to Expenses</a>
    </div>
    <h2>Add Expense Item</h2>
    <label for="name">Expense Name</label>
    <input type="text" id="name" name="name" required>
    <label for="category">Category</label>
    <select id="category" name="category" required>
      <option value="">Select</option>
      <option>Clothes</option>
      <option>Catering</option>
      <option>Food</option>
      <option>Shopping</option>
      <option>Pooja samanlu</option>
      <option>Function hall</option>
    </select>
    <label for="cost">Cost (₹)</label>
    <input type="number" id="cost" name="cost" required min="0">
    <label for="date">Date</label>
    <input type="date" id="date" name="date" required>
    <label for="paidBy">Paid By</label>
    <select id="paidBy" name="paidBy" required>
      <option value="">Select</option>
      <option>Lakshmi</option>
      <option>Uday</option>
      <option>Deepthi</option>
      <option>Ramya</option>
    </select>
    <label for="settled">Expense Settled</label>
    <input type="checkbox" id="settled" name="settled">
    <label for="remarks">Notes/Remarks</label>
    <textarea id="remarks" name="remarks" rows="2"></textarea>
    <button type="submit">Add Expense</button>
  </form>
  <!-- <script>
    document.getElementById('expenseForm').onsubmit = function(e) {
      e.preventDefault();
      const expense = {
        id: Date.now(), // unique id using timestamp
        name: this.name.value,
        category: this.category.value,
        cost: this.cost.value,
        date: this.date.value,
        paidBy: this.paidBy.value,
        settled: this.settled.checked,
        remarks: this.remarks.value
      };
      // Save to localStorage (for demo, since browser can't write to JSON file directly)
      let expenses = JSON.parse(localStorage.getItem('expenses') || '[]');
      expenses.push(expense);
      localStorage.setItem('expenses', JSON.stringify(expenses));
      alert('Expense added! (Note: On GitHub Pages, this only saves in your browser)');
      this.reset();
    };
  </script> -->
</body>
</html>