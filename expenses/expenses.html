<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>Wedding Expenses Tracker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <link rel="icon" type="image/png" href="https://img.icons8.com/fluency/48/wedding-rings.png"/>
  <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:wght@500;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'EB Garamond', serif;
      background: linear-gradient(135deg, #fff8f0 80%, #f7e6d3 100%);
      margin: 0;
      padding: 0;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .main-card {
      max-width: 900px;
      margin: 36px auto;
      border-radius: 18px;
      box-shadow: 0 8px 32px rgba(184, 92, 56, 0.13), 0 1.5px 0 #e2b97f;
      background: #fffbe6;
      border: 10px solid #e2b97f;
      padding: 24px;
      position: relative;
    }
    h2 {
      text-align: center;
      color: #b85c38;
      margin-bottom: 18px;
      font-size: 2rem;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 18px;
      background: #fffdf8;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 2px 8px #e2b97f22;
    }
    th, td {
      padding: 10px 8px;
      border-bottom: 1px solid #e2b97f44;
      text-align: left;
      font-size: 1rem;
    }
    th {
      background: #fbeee6;
      color: #a03c1c;
      font-weight: 600;
    }
    tr:last-child td {
      border-bottom: none;
    }
    .settled-checkbox {
      width: 22px;
      height: 22px;
      accent-color: #b85c38;
      cursor: pointer;
    }
    .category, .paidby {
      font-weight: 500;
      color: #7e4a2f;
    }
    .remarks {
      font-size: 0.95rem;
      color: #4b2e2e;
    }
    .total-row td {
      font-weight: bold;
      color: #b85c38;
      background: #fffbe6;
      border-top: 2px solid #e2b97f;
    }
    @media (max-width: 700px) {
      .main-card { max-width: 98vw; padding: 8px; }
      table, th, td { font-size: 0.95rem; }
    }
  </style>
</head>
<body>
  <div class="main-card">
    <h2>Wedding Expenses Tracker</h2>
    <table id="expenses-table">
      <thead>
        <tr>
          <th>Expense Name</th>
          <th>Category</th>
          <th>Cost (â‚¹)</th>
          <th>Date</th>
          <th>Paid By</th>
          <th>Settled</th>
          <th>Notes/Remarks</th>
        </tr>
      </thead>
      <tbody>
        <!-- Expense items will be loaded here -->
      </tbody>
      <tfoot>
        <tr class="total-row">
          <td colspan="2">Total</td>
          <td id="total-cost"></td>
          <td colspan="4"></td>
        </tr>
      </tfoot>
    </table>
  </div>
  <script>
    // Static categories and paid by options
    const categories = ["Clothes", "Catering", "Food", "Shopping", "Pooja samanlu", "Function hall"];
    const paidByList = ["Lakshmi", "Uday", "Deepthi", "Ramya"];

    // Load expenses from local JSON file
    fetch('expenses.json')
      .then(response => response.json())
      .then(data => {
        console.log(data);
        const tbody = document.querySelector('#expenses-table tbody');
        let total = 0;
        data.forEach((item, idx) => {
          total += Number(item.cost) || 0;
          const tr = document.createElement('tr');
          tr.innerHTML = `
            <td>${item.name}</td>
            <td class="category">${item.category}</td>
            <td>${item.cost}</td>
            <td>${item.date}</td>
            <td class="paidby">${item.paidBy}</td>
            <td style="text-align:center;">
              <input type="checkbox" class="settled-checkbox" ${item.settled ? 'checked' : ''} disabled>
            </td>
            <td class="remarks">${item.remarks || ''}</td>
          `;
          tbody.appendChild(tr);
        });
        document.getElementById('total-cost').textContent = total;
      })
      .catch(() => {
        document.querySelector('#expenses-table tbody').innerHTML =
          `<tr><td colspan="7" style="text-align:center; color:#a03c1c;">Unable to load expenses. Please add <b>expenses.json</b> in this folder.</td></tr>`;
        document.getElementById('total-cost').textContent = '-';
      });
  </script>
</body>
</html>